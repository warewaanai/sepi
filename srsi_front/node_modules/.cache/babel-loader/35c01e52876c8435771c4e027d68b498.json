{"ast":null,"code":"import _objectSpread from\"/home/bodo/sepi/srsi_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bodo/sepi/srsi_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useRef,useEffect,useState}from'react';import{Link}from'react-router-dom';import JsxParser from'react-jsx-parser';import TermBlink from'../../components/termblink';import Card from'../../components/Card';import'./stylesheet.scss';var Announcement=function Announcement(props){var title=\"\".concat(props.date,\" - \").concat(props.title,\":\");return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(TermBlink,{children:title})}),/*#__PURE__*/_jsx(JsxParser,{disableKeyGeneration:false,components:{Card:Card,Link:Link},jsx:props.content}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"br\",{})]});};var OSEPI=function OSEPI(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),announcements=_useState2[0],setAnnouncements=_useState2[1];useEffect(function(){if(announcements===0||announcements===[])fetch(window.HOST+\"/api/list_announcements\").then(function(res){return res.json();}).then(function(res){return setAnnouncements(res);});else console.log(announcements);});var announcementArticles=[];if(announcements!==0&&announcements!==[]){for(var key in announcements){announcementArticles.push(/*#__PURE__*/_jsx(Announcement,_objectSpread({},announcements[key])));}announcementArticles.reverse();}return/*#__PURE__*/_jsxs(\"div\",{id:\"osepi\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\" \",/*#__PURE__*/_jsx(TermBlink,{children:\"OSEPI - Anun\\u021Buri\"}),\" \"]}),announcementArticles,/*#__PURE__*/_jsx(\"br\",{})]});};export default OSEPI;","map":{"version":3,"sources":["/home/bodo/sepi/srsi_front/src/pages/OSEPI/index.js"],"names":["React","useRef","useEffect","useState","Link","JsxParser","TermBlink","Card","Announcement","props","title","date","content","OSEPI","announcements","setAnnouncements","fetch","window","HOST","then","res","json","console","log","announcementArticles","key","push","reverse"],"mappings":"8aAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,SAAxB,CAAmCC,QAAnC,KAAmD,OAAnD,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,kBAAtB,CAEA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,CACA,MAAO,mBAAP,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,CAC1B,GAAMC,CAAAA,KAAK,WAAMD,KAAK,CAACE,IAAZ,eAAsBF,KAAK,CAACC,KAA5B,KAAX,CAEA,mBAAO,wCACC,iCAAI,KAAC,SAAD,WAAYA,KAAZ,EAAJ,EADD,cAEC,KAAC,SAAD,EACI,oBAAoB,CAAE,KAD1B,CAEI,UAAU,CAAE,CACRH,IAAI,CAAJA,IADQ,CAERH,IAAI,CAAJA,IAFQ,CAFhB,CAMI,GAAG,CAAEK,KAAK,CAACG,OANf,EAFD,cAUC,aAVD,cAWC,aAXD,cAYC,aAZD,GAAP,CAcH,CAjBD,CAmBA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAAJ,KAAK,CAAI,eACuBN,QAAQ,CAAC,CAAD,CAD/B,wCACZW,aADY,eACGC,gBADH,eAGnBb,SAAS,CAAC,UAAM,CACZ,GAAIY,aAAa,GAAK,CAAlB,EAAuBA,aAAa,GAAK,EAA7C,CACIE,KAAK,CAACC,MAAM,CAACC,IAAP,CAAc,yBAAf,CAAL,CAA+CC,IAA/C,CAAoD,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAAvD,EAAuEF,IAAvE,CAA4E,SAAAC,GAAG,QAAIL,CAAAA,gBAAgB,CAACK,GAAD,CAApB,EAA/E,EADJ,IAGIE,CAAAA,OAAO,CAACC,GAAR,CAAYT,aAAZ,EACP,CALQ,CAAT,CAOA,GAAIU,CAAAA,oBAAoB,CAAG,EAA3B,CACA,GAAIV,aAAa,GAAK,CAAlB,EAAuBA,aAAa,GAAK,EAA7C,CAAiD,CAC7C,IAAK,GAAMW,CAAAA,GAAX,GAAkBX,CAAAA,aAAlB,CAAiC,CAC7BU,oBAAoB,CAACE,IAArB,cAA0B,KAAC,YAAD,kBAAkBZ,aAAa,CAACW,GAAD,CAA/B,EAA1B,EACH,CACDD,oBAAoB,CAACG,OAArB,GACH,CAED,mBAAO,aAAK,EAAE,CAAC,OAAR,wBACH,uCAAK,KAAC,SAAD,oCAAL,OADG,CAEFH,oBAFE,cAGH,aAHG,GAAP,CAKH,CAvBD,CAyBA,cAAeX,CAAAA,KAAf","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport {Link} from 'react-router-dom';\nimport JsxParser from 'react-jsx-parser';\n\nimport TermBlink from '../../components/termblink';\nimport Card from '../../components/Card';\nimport './stylesheet.scss'\n\nconst Announcement = props => {\n    const title = `${props.date} - ${props.title}:`;\n\n    return <>\n            <h3><TermBlink>{title}</TermBlink></h3>\n            <JsxParser\n                disableKeyGeneration={false}\n                components={{\n                    Card,\n                    Link,\n                }}\n                jsx={props.content}/>\n\n            <br />\n            <hr />\n            <br />\n    </>;\n}\n\nconst OSEPI = props => {\n    const [announcements, setAnnouncements] = useState(0);\n\n    useEffect(() => {\n        if (announcements === 0 || announcements === [])\n            fetch(window.HOST + \"/api/list_announcements\").then(res => res.json()).then(res => setAnnouncements(res));\n        else\n            console.log(announcements);\n    });\n\n    let announcementArticles = [];\n    if (announcements !== 0 && announcements !== []) {\n        for (const key in announcements) {\n            announcementArticles.push(<Announcement {...announcements[key]} />);\n        }\n        announcementArticles.reverse();\n    }\n\n    return <div id=\"osepi\">\n        <h2> <TermBlink>OSEPI - Anun»õuri</TermBlink> </h2>\n        {announcementArticles}\n        <br />\n    </div>;\n}\n\nexport default OSEPI;\n"]},"metadata":{},"sourceType":"module"}